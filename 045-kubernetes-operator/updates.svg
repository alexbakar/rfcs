<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="953px" preserveAspectRatio="none" style="width:646px;height:953px;" version="1.1" viewBox="0 0 646 953" width="646px" zoomAndPan="magnify"><defs><filter height="300%" id="f15me9xa9yfm0x" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="69" x="289.75" y="26.708">updates</text><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="97.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="336.0469"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="655.5078"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="740.9063"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="819.3047"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="369.5" y="186.5156"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="541.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="369.5" y="306.9141"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="563.5" y="442.5781"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="563.5" y="531.9766"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="563.5" y="590.2422"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="312.4609" style="stroke: #000000; stroke-width: 2.0;" width="516.5" x="119" y="380.1797"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="303.5" x="322" y="404.3125"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="303.5" x="322" y="493.7109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="27" y1="121.25" y2="257.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="27" x2="27" y1="257.7813" y2="285.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="27" y1="285.7813" y2="866.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87" x2="87" y1="121.25" y2="257.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="87" x2="87" y1="257.7813" y2="285.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87" x2="87" y1="285.7813" y2="866.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="178" y1="121.25" y2="257.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="178" x2="178" y1="257.7813" y2="285.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="178" y1="285.7813" y2="866.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="374" x2="374" y1="121.25" y2="257.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="374" x2="374" y1="257.7813" y2="285.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="374" x2="374" y1="285.7813" y2="866.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568.5" x2="568.5" y1="121.25" y2="257.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="568.5" x2="568.5" y1="257.7813" y2="285.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568.5" x2="568.5" y1="285.7813" y2="866.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="117.9482">User</text><ellipse cx="27" cy="47.9531" fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,55.9531 L27,82.9531 M14,63.9531 L40,63.9531 M27,82.9531 L14,97.9531 M27,82.9531 L40,97.9531 " fill="none" filter="url(#f15me9xa9yfm0x)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="878.4326">User</text><ellipse cx="27" cy="891.7344" fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,899.7344 L27,926.7344 M14,907.7344 L40,907.7344 M27,926.7344 L14,941.7344 M27,926.7344 L40,941.7344 " fill="none" filter="url(#f15me9xa9yfm0x)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="56" y="117.9482">Informer</text><ellipse cx="87.5" cy="88.9531" fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="83.5,76.9531,89.5,71.9531,87.5,76.9531,89.5,81.9531,83.5,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="56" y="878.4326">Informer</text><ellipse cx="87.5" cy="897.7344" fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="83.5,885.7344,89.5,880.7344,87.5,885.7344,89.5,890.7344,83.5,885.7344" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="129" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="136" y="105.9482">Kubernetes</text><rect fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="129" y="865.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="136" y="885.4326">Kubernetes</text><rect fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="332" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="339" y="105.9482">Controller</text><rect fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="332" y="865.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="339" y="885.4326">Controller</text><rect fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="521.5" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="528.5" y="105.9482">Concourse</text><rect fill="#FEFECE" filter="url(#f15me9xa9yfm0x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="521.5" y="865.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="528.5" y="885.4326">Concourse</text><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="97.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="336.0469"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="655.5078"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="740.9063"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="173.5" y="819.3047"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="369.5" y="186.5156"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="541.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="369.5" y="306.9141"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="563.5" y="442.5781"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="563.5" y="531.9766"/><rect fill="#FFFFFF" filter="url(#f15me9xa9yfm0x)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="563.5" y="590.2422"/><polygon fill="#A80036" points="161.5,148.3828,171.5,152.3828,161.5,156.3828,165.5,152.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="167.5" y1="152.3828" y2="152.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="34" y="147.3169">Concourse</text><polygon fill="#A80036" points="357.5,182.5156,367.5,186.5156,357.5,190.5156,361.5,186.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="183.5" x2="363.5" y1="186.5156" y2="186.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="190.5" y="181.4497">Admit</text><path d="M384,165.3828 L384,190.3828 L567,190.3828 L567,175.3828 L557,165.3828 L384,165.3828 " fill="#FBFB77" filter="url(#f15me9xa9yfm0x)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M557,165.3828 L557,175.3828 L567,175.3828 L557,165.3828 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="390" y="182.4497">validate the configuration</text><polygon fill="#A80036" points="194.5,216.6484,184.5,220.6484,194.5,224.6484,190.5,220.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="188.5" x2="373.5" y1="220.6484" y2="220.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="200.5" y="215.5825">Ok</text><polygon fill="#A80036" points="38,245.7813,28,249.7813,38,253.7813,34,249.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="177.5" y1="249.7813" y2="249.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="44" y="244.7153">Ok</text><polygon fill="#A80036" points="357.5,302.9141,367.5,306.9141,357.5,310.9141,361.5,306.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="363.5" y1="306.9141" y2="306.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="94.5" y="301.8481">Reconcille</text><polygon fill="#A80036" points="194.5,332.0469,184.5,336.0469,194.5,340.0469,190.5,336.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188.5" x2="368.5" y1="336.0469" y2="336.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="200.5" y="330.981">Get Concourse K8s Object</text><polygon fill="#A80036" points="357.5,361.1797,367.5,365.1797,357.5,369.1797,361.5,365.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178.5" x2="363.5" y1="365.1797" y2="365.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="185.5" y="360.1138">Concourse Spec</text><path d="M119,380.1797 L183,380.1797 L183,387.1797 L173,397.1797 L119,397.1797 L119,380.1797 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="312.4609" style="stroke: #000000; stroke-width: 2.0;" width="516.5" x="119" y="380.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="134" y="393.2466">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="342" x="198" y="392.3901">[any operations needed against the running cluster?]</text><path d="M322,404.3125 L386,404.3125 L386,411.3125 L376,421.3125 L322,421.3125 L322,404.3125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="303.5" x="322" y="404.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="337" y="417.3794">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="401" y="416.5229">[rolling back?]</text><polygon fill="#A80036" points="551.5,438.5781,561.5,442.5781,551.5,446.5781,555.5,442.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="379.5" x2="557.5" y1="442.5781" y2="442.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="386.5" y="437.5122">Concourse Migrate</text><polygon fill="#A80036" points="390.5,467.7109,380.5,471.7109,390.5,475.7109,386.5,471.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="384.5" x2="567.5" y1="471.7109" y2="471.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="396.5" y="466.645">Ok</text><path d="M322,493.7109 L386,493.7109 L386,500.7109 L376,510.7109 L322,510.7109 L322,493.7109 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="303.5" x="322" y="493.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="337" y="506.7778">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="401" y="505.9214">[maintenance mode?]</text><polygon fill="#A80036" points="551.5,527.9766,561.5,531.9766,551.5,535.9766,555.5,531.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="379.5" x2="557.5" y1="531.9766" y2="531.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="386.5" y="526.9106">Disable Scheduler &amp; Lidar</text><polygon fill="#A80036" points="390.5,557.1094,380.5,561.1094,390.5,565.1094,386.5,561.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="384.5" x2="567.5" y1="561.1094" y2="561.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="396.5" y="556.0435">Ok</text><polygon fill="#A80036" points="551.5,586.2422,561.5,590.2422,551.5,594.2422,555.5,590.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="379.5" x2="557.5" y1="590.2422" y2="590.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="386.5" y="585.1763">Set Wall</text><polygon fill="#A80036" points="390.5,615.375,380.5,619.375,390.5,623.375,386.5,619.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="384.5" x2="567.5" y1="619.375" y2="619.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="396.5" y="614.3091">Ok</text><polygon fill="#A80036" points="194.5,651.5078,184.5,655.5078,194.5,659.5078,190.5,655.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188.5" x2="368.5" y1="655.5078" y2="655.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="200.5" y="650.4419">Send Events</text><polygon fill="#A80036" points="357.5,680.6406,367.5,684.6406,357.5,688.6406,361.5,684.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178.5" x2="363.5" y1="684.6406" y2="684.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="185.5" y="679.5747">Admitted</text><polygon fill="#A80036" points="194.5,736.9063,184.5,740.9063,194.5,744.9063,190.5,740.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188.5" x2="368.5" y1="740.9063" y2="740.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="200.5" y="735.8403">Deployment, Service, etc</text><path d="M384,704.6406 L384,759.6406 L572,759.6406 L572,714.6406 L562,704.6406 L384,704.6406 " fill="#FBFB77" filter="url(#f15me9xa9yfm0x)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M562,704.6406 L562,714.6406 L572,714.6406 L562,704.6406 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="390" y="721.7075">update the resources that</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="390" y="736.8403">deploy the pods, set the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="390" y="751.9731">connectivity, etc.</text><polygon fill="#A80036" points="357.5,786.1719,367.5,790.1719,357.5,794.1719,361.5,790.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178.5" x2="363.5" y1="790.1719" y2="790.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="185.5" y="785.106">Admitted</text><polygon fill="#A80036" points="194.5,815.3047,184.5,819.3047,194.5,823.3047,190.5,819.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188.5" x2="368.5" y1="819.3047" y2="819.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="200.5" y="814.2388">Update Status</text><polygon fill="#A80036" points="362.5,844.4375,372.5,848.4375,362.5,852.4375,366.5,848.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178.5" x2="368.5" y1="848.4375" y2="848.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="185.5" y="843.3716">Ok</text><!--MD5=[60a73987a96ffd9437f2ad40c715789d]
@startuml
title updates

  actor User
  control Informer
  participant Kubernetes
  participant Controller
  participant Concourse


  autoactivate on

  User -> Kubernetes : Concourse

    Kubernetes -> Controller: Admit
    note right
         validate the configuration
    end note
    Controller - -> Kubernetes: Ok

  Kubernetes - -> User: Ok

  ...

  Informer -> Controller : Reconcille

    Controller -> Kubernetes : Get Concourse K8s Object
    Kubernetes - -> Controller: Concourse Spec

    alt any operations needed against the running cluster?

      alt rolling back?
        Controller -> Concourse : Concourse Migrate
        Concourse - -> Controller : Ok
      end

      alt maintenance mode?
        Controller -> Concourse : Disable Scheduler & Lidar
        Concourse - -> Controller : Ok

        Controller -> Concourse : Set Wall
        Concourse - -> Controller : Ok
      end

      Controller -> Kubernetes : Send Events
      Kubernetes - -> Controller: Admitted

    end

    Controller -> Kubernetes : Deployment, Service, etc
    note right
         update the resources that
         deploy the pods, set the
         connectivity, etc.
    end note
    Kubernetes - -> Controller: Admitted

    Controller -> Kubernetes : Update Status
    Kubernetes - -> Controller: Ok

  deactivate
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-b08
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>